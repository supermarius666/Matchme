{% extends 'base.html' %}
{% load static %}
{% block title %} | Events{% endblock %}
{% block style %}
    <link rel="stylesheet" href="{% static 'css/events/events.css' %}">
{% endblock %}
{% block content %}
<main>
    <section class="events-hero">
        <div class="hero-content">
            <h1>Discover Exciting Events with Matchme!</h1>
            <p>Connect with new people and find unforgettable experiences. Whether you're looking for a romantic evening or a fun group outing, we've got you covered.</p>
            <a href="#places-to-meet" class="btn-primary">Explore Places & Events</a>
            <a href="#call-to-action" class="btn-secondary">Join Our Community</a>
        </div>
    </section>

    <section id="upcoming-events-section" class="upcoming-events-section"> 
        <div class="container">
            <h2>Upcoming Events</h2>

            {% if upcoming_events %}
                <div class="slider-container">
                    <div class="events-slider"> 
                        {% for event in upcoming_events %}
                            <div class="event-card">
                                <img src="{{ event.image.url }}" alt="{{ event.title }}" class="event-card-image">
                                <div class="event-card-content">
                                    <h3 class="event-card-title">{{ event.title }}</h3>
                                    <p class="event-card-date">{{ event.date|date:"F d, Y P" }}</p>
                                    <p class="event-card-location">{{ event.location }}</p>
                                    <p class="event-card-description">{{ event.description }}</p>
                                    <a href="/events/{{ event.slug }}" class="event-card-link btn-small-primary">View Details &rarr;</a>
                                </div>
                            </div>
                        {% endfor %}
                    </div>

                    <div class="slider-nav">
                        <button class="prev-slide-btn" aria-label="Previous slide">&lt;</button>
                        <button class="next-slide-btn" aria-label="Next slide">&gt;</button>
                    </div>

                    <div class="dots-container">
                    </div>
                </div>
            {% else %}
                <p class="no-events-message">No upcoming events at the moment. Check back soon!</p>
            {% endif %}

            

            <div class="view-all-events">
                <a href="#" class="btn-secondary">View All Events &rarr;</a> 
            </div>
        </div>
    </section>

    <section id="places-to-meet" class="places-section">
        <div class="container">
            <h2>Explore Great Places to Meet IRL</h2>
            <div class="grid-container">
                <div class="card" onclick="gotoPlace('villa-borghese')">
                    <img src="https://picsum.photos/600/400?random=5" alt="Villa Borghese" class="card-image">
                    <div class="card-content">
                        <h3 class="card-title">Villa Borghese</h3>
                        <p class="card-text">A stunning public park in Rome with gardens, museums, and historical buildings. Perfect for a relaxed first date or a group picnic.</p>
                        <p class="card-events-info">Upcoming events here: **Evening Gala (June 15th)**</p>
                        <a href="/events/places/villa-borghese" class="card-link">Learn More &rarr;</a>
                    </div>
                </div>

                <div class="card" onclick="gotoPlace('giardino-degli-aranci')">
                    <img src="https://picsum.photos/600/400?random=6" alt="Giardino degli Aranci" class="card-image">
                    <div class="card-content">
                        <h3 class="card-title">Giardino degli Aranci</h3>
                        <p class="card-text">Also known as Parco Savello, this charming orange garden offers panoramic views of Rome. Ideal for a romantic sunset stroll.</p>
                        <p class="card-events-info">Often hosts sunset gatherings.</p>
                        <a href="/events/places/giardino-degli-aranci" class="card-link">Learn More &rarr;</a>
                    </div>
                </div>

                <div class="card" onclick="gotoPlace('trastevere-square')">
                    <img src="https://picsum.photos/600/400?random=7" alt="Trastevere Square" class="card-image">
                    <div class="card-content">
                        <h3 class="card-title">Piazza di Santa Maria in Trastevere</h3>
                        <p class="card-text">The heart of Trastevere, bustling with life, street artists, and charming cafes. Great for a lively first meeting or group night out.</p>
                        <p class="card-events-info">Upcoming events here: **Pasta Making Class (June 16th)**</p>
                        <a href="/events/places/trastevere-square" class="card-link">Learn More &rarr;</a>
                    </div>
                </div>

                <div class="card" onclick="gotoPlace('testaccio-market')">
                    <img src="https://picsum.photos/600/400?random=8" alt="Testaccio Market" class="card-image">
                    <div class="card-content">
                        <h3 class="card-title">Testaccio Market</h3>
                        <p class="card-text">A vibrant food market offering authentic Roman street food and local delights. A fantastic casual spot for foodies to connect.</p>
                        <p class="card-events-info">Regular food tasting meetups.</p>
                        <a href="/events/places/testaccio-market" class="card-link">Learn More &rarr;</a>
                    </div>
                </div>

                <div class="card" onclick="gotoPlace('villa-ada')">
                    <img src="https://picsum.photos/600/400?random=9" alt="Villa Ada" class="card-image">
                    <div class="card-content">
                        <h3 class="card-title">Villa Ada</h3>
                        <p class="card-text">Rome's second-largest park, known for its vast green spaces, lake, and summer concerts. Ideal for outdoor enthusiasts.</p>
                        <p class="card-events-info">Hosts summer concerts and festivals.</p>
                        <a href="/events/places/villa-ada" class="card-link">Learn More &rarr;</a>
                    </div>
                </div>

                <div class="card" onclick="gotoPlace('coppede-quarter')">
                    <img src="https://picsum.photos/600/400?random=10" alt="Quartiere Coppedè" class="card-image">
                    <div class="card-content">
                        <h3 class="card-title">Quartiere Coppedè</h3>
                        <p class="card-text">A hidden gem with unique Art Nouveau and Baroque architecture. Perfect for a quirky, memorabile date or photo walk.</p>
                        <p class="card-events-info">Upcoming events here: **Coppedè Photo Walk (June 22nd)**</p>
                        <a href="/events/places/coppede-quarter" class="card-link">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
            <div class="view-all-places">
                <a href="#" class="btn-secondary">View All Places &rarr;</a>
            </div>
        </div>
    </section>

    <section id="call-to-action" class="call-to-action">
        <div class="container">
            <h2>Ready to Join the Fun?</h2>
            <p>Don't miss out on amazing events and opportunities to meet new people!</p>
            <a href="#" class="btn-primary">Sign Up for Free!</a>
            <a href="{% url 'contact' %}" class="btn-secondary">Contact Us</a>
        </div>
    </section>
</main>
{% endblock %}

{% block footer %}
{% include "footer.html" %}
{% endblock %}

{% block script %}
<script type="text/javascript">
    function gotoPlace(placeSlug) {
        window.location.href = `/events/${placeSlug}`;
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
</script>
<script src="{% static 'js/eventsSlider.js' %}"></script> {# Nuovo script per lo slider #}
{% endblock %}